\subsection{Mapa}
\nuevoTAD{Mapa}
\genero{mapa}
\exporta{generadores, observadores, hayCamino, todasCoordenadas}
\begin{seccion}[generadores]
	\funcion{crearMapa}{conj(conj(coordenada))\, c}{Mapa}
	\restriccion{ (\forall conj1, conj2 \in c)(conj1 == conj2 \vee conj1 \cap conj2 == \emptyset ) }
\end{seccion}

\begin{seccion}[observadores]
	\funcion{coordenadas}{mapa}{conj(conj(coordenada))}
\end{seccion}

\begin{seccion}[otras operaciones]
	\funcion{hayCamino}{coordenada c1 \times coordenada c2 \times mapa m}{bool}	
		\restriccion{c1 \in todasCoordenadas(m) \wedge c2 \in todasCoordenadas(m)}
	\funcion{hayCaminoRecursion}{coordenada c1 \times coordenada c2 \times conj(conj(coordenada))}{bool}
		\restriccion{c1 \in todasCoordenadas(m) \wedge c2 \in todasCoordenadas(m)}
	\funcion{todasCoordenadas}{mapa}{conj(coordenada)}
	\funcion{todosCoordenadasAplanadas}{conj(conj(coordenada))}{conj(coordenada)}
\end{seccion}

\begin{seccion}[axiomas]
	\axioma{coordenadas(crearMapa(c))}{c}
	\axioma{hayCamino(c1, c2, m)}{hayCaminoRecursion(c1, c2, coordenadas(m))}
	\axioma{hayCaminoRecursion(c1, c2, cc)}{if \emptyset ?(cc) then false else if \{c1, c2\} \subseteq dameUno(cc) then true else hayCaminoRecursion(c1, c2, sinUno(cc)) fi fi}
	\axioma{todasCoordenadas(m)}{todasCoordenadasAplanadas(coordenadas(m))}
	\axioma{todasCoordenadasAplanadas(c)}{if \emptyset ?(c) then \emptyset else dameUno(c) \bigcup todasCoordenadasAplanadas(sinUno(c)) fi}
\end{seccion}
